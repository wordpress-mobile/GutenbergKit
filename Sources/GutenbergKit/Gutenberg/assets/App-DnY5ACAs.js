const{SVG:J,Path:X}=window.wp.primitives,{jsx:v}=window.ReactJSXRuntime,V=v(J,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:v(X,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),{SVG:O,Path:z}=window.wp.primitives,{jsx:P}=window.ReactJSXRuntime,H=P(O,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:P(z,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),{Fragment:R,jsx:n,jsxs:b}=window.ReactJSXRuntime,{useState:W}=window.wp.element,{BlockInspector:Z,BlockToolbar:q,Inserter:K,store:Q}=window.wp.blockEditor,{useSelect:Y}=window.wp.data,{Button:ee,Popover:te,ToolbarButton:oe}=window.wp.components,{__:se}=window.wp.i18n,ne=()=>{const[e,o]=W(!1),{isSelected:s}=Y(w=>{const{getSelectedBlockClientId:p}=w(Q);return{isSelected:p()!==null}});function a(){o(!0)}function c(){o(!1)}return b(R,{children:[b("div",{className:"gbkit gbkit-editor-toolbar",children:[n(K,{}),s&&n("div",{className:"gbkit-editor-toolbar_toolbar-group",children:n(oe,{title:se("Open Settings"),icon:H,onClick:a,className:"gbkit-editor-toolbar_settings_icon"})}),n(q,{})]}),e&&n(te,{className:"block-settings-menu",variant:"unstyled",placement:"overlay",children:b(R,{children:[n("div",{className:"block-settings-menu__header",children:n(ee,{className:"block-settings-menu__close",icon:V,onClick:c})}),n(Z,{})]})})]})};function ie(){window.editorDelegate&&window.editorDelegate.onEditorLoaded(),window.webkit&&window.webkit.messageHandlers.editorDelegate.postMessage({message:"onEditorLoaded",body:{}})}function re(e=!1){window.editorDelegate&&window.editorDelegate.onEditorContentChanged(e),window.webkit&&window.webkit.messageHandlers.editorDelegate.postMessage({message:"onEditorContentChanged",body:{isEmpty:e}})}const de=[{name:"post",baseURL:"/wp/v2/posts"},{name:"page",baseURL:"/wp/v2/pages"},{name:"attachment",baseURL:"/wp/v2/media"},{name:"wp_block",baseURL:"/wp/v2/blocks"}].map(e=>({kind:"postType",...e,transientEdits:{blocks:!0,selection:!0},mergedEdits:{meta:!0},rawAttributes:["title","excerpt","content"]})),{__dangerousOptInToUnstableAPIsOnlyForCoreModules:le}=window.wp.privateApis,{lock:Ae,unlock:L}=le("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/editor"),{store:ae}=window.wp.editor,{useSelect:ce}=window.wp.data,{privateApis:we}=window.wp.blockEditor,{store:pe}=window.wp.editPost,{useMemo:ue}=window.wp.element,{getLayoutStyles:be}=L(we);function ge(){const{hasThemeStyleSupport:e,editorSettings:o}=ce(s=>({hasThemeStyleSupport:s(pe).isFeatureActive("themeStyles"),editorSettings:s(ae).getEditorSettings()}),[]);return ue(()=>{const s=[...o?.defaultEditorStyles??[]];return!o.disableLayoutStyles&&!e&&s.push({css:be({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})}),e?o.styles??[]:s},[o.defaultEditorStyles,o.disableLayoutStyles,o.styles,e])}const{jsx:r,jsxs:C}=window.ReactJSXRuntime,{useEffect:_,useRef:g,useState:me,useMemo:ke}=window.wp.element,{BlockList:he,privateApis:Se}=window.wp.blockEditor,{Popover:ye}=window.wp.components,{getBlockTypes:Ee,unregisterBlockType:fe}=window.wp.blocks,{registerCoreBlocks:ve}=window.wp.blockLibrary,{store:x,mediaUpload:Pe,EditorProvider:Re,EditorSnackbars:Ce,PostTitle:_e}=window.wp.editor,{useDispatch:B,useSelect:T,subscribe:xe}=window.wp.data,{store:m}=window.wp.coreData;let d={};const{ExperimentalBlockCanvas:Be}=L(Se);function Te({post:e}){const[o,s]=me(!1),a=g(),c=g(e.title),w=g(e.content),{addEntities:p,editEntityRecord:k,receiveEntityRecords:A}=B(m),{setEditedPost:I}=B(x),{getEditedPostAttribute:$,getEditedPostContent:h}=T(x);_(()=>(window.editor=d,p(de),A("postType",e.type,e),ve(),ie(),I(e.type,e.id),()=>{window.editor={},Ee().forEach(t=>{fe(t.name)})}),[]);const{blockPatterns:S,currentPost:j,hasLoadedPost:U,hasUploadPermissions:y,reusableBlocks:E}=T(t=>{const{getEntityRecord:l,getEntityRecords:i,hasFinishedResolution:u}=t(m),N=l("root","user",e.author),F=l("postType",e.type,e.id),G=e?.id?u("getEntityRecord",["postType",e.type,e.id]):!0;return{blockPatterns:t(m).getBlockPatterns(),currentPost:F,hasLoadedPost:G,hasUploadPermissions:N?.capabilities?.upload_files??!0,reusableBlocks:i("postType","wp_block")}},[]);_(()=>{const t=xe(()=>{const{title:l,content:i}=d.getTitleAndContent();if(l!==c.current||i!==w.current){const u=i.length===0||i[0].name=="core/paragraph"&&i[0].attributes.content.trim()==="";re(u),c.current=l,w.current=i}});return()=>{t()}},[]);function f(t){k("postType",e.type,e.id,t)}d.setContent=t=>{f({content:decodeURIComponent(t)})},d.setTitle=t=>{f({title:decodeURIComponent(t)})},d.getContent=()=>h(),d.getTitleAndContent=()=>({title:$("title"),content:h()}),d.setCodeEditorEnabled=t=>s(t);const D=ke(()=>({hasFixedToolbar:!0,mediaUpload:y?Pe:void 0,__experimentalReusableBlocks:E,__experimentalBlockPatterns:S}),[S,y,E]),M=ge();return U&&r("div",{className:"editor__container",children:C(Re,{post:j,settings:D,useSubRegistry:!1,children:[C(Be,{shouldIframe:!1,height:"auto",styles:M,children:[r("div",{className:"editor-visual-editor__post-title-wrapper",children:r(_e,{ref:a})}),r(he,{})]}),r(ne,{}),r(ye.Slot,{}),r(Ce,{})]})})}const{jsx:Le}=window.ReactJSXRuntime;function Ie(e){return Le(Te,{...e})}export{Ie as default};
