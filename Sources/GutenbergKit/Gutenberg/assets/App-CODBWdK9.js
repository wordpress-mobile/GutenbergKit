const{SVG:z,Path:H}=window.wp.primitives,{jsx:E}=window.ReactJSXRuntime,W=E(z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:E(H,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),{SVG:Z,Path:q}=window.wp.primitives,{jsx:y}=window.ReactJSXRuntime,K=y(Z,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:y(q,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),{Fragment:v,jsx:i,jsxs:u}=window.ReactJSXRuntime,{useState:Q}=window.wp.element,{BlockInspector:Y,BlockToolbar:ee,Inserter:te,store:oe}=window.wp.blockEditor,{useSelect:ne}=window.wp.data,{Button:se,Popover:ie,ToolbarButton:re}=window.wp.components,{__:le}=window.wp.i18n,ae=()=>{const[e,o]=Q(!1),{isSelected:n}=ne(d=>{const{getSelectedBlockClientId:w}=d(oe);return{isSelected:w()!==null}});function a(){o(!0)}function s(){o(!1)}return u(v,{children:[u("div",{className:"gbkit gbkit-editor-toolbar",children:[i(te,{}),n&&i("div",{className:"gbkit-editor-toolbar_toolbar-group",children:i(re,{title:le("Open Settings"),icon:K,onClick:a,className:"gbkit-editor-toolbar_settings_icon"})}),i(ee,{})]}),e&&i(ie,{className:"block-settings-menu",variant:"unstyled",placement:"overlay",children:u(v,{children:[i("div",{className:"block-settings-menu__header",children:i(se,{className:"block-settings-menu__close",icon:W,onClick:s})}),i(Y,{})]})})]})};function ce(){window.editorDelegate&&window.editorDelegate.onEditorLoaded(),window.webkit&&window.webkit.messageHandlers.editorDelegate.postMessage({message:"onEditorLoaded",body:{}})}function de(){window.editorDelegate&&window.editorDelegate.onEditorContentChanged(),window.webkit&&window.webkit.messageHandlers.editorDelegate.postMessage({message:"onEditorContentChanged"})}function R(){const e=document.activeElement;e&&e.tagName==="P"&&e.blur()}const we=[{name:"post",baseURL:"/wp/v2/posts"},{name:"page",baseURL:"/wp/v2/pages"},{name:"attachment",baseURL:"/wp/v2/media"},{name:"wp_block",baseURL:"/wp/v2/blocks"}].map(e=>({kind:"postType",...e,transientEdits:{blocks:!0,selection:!0},mergedEdits:{meta:!0},rawAttributes:["title","excerpt","content"]})),{__dangerousOptInToUnstableAPIsOnlyForCoreModules:ue}=window.wp.privateApis,{lock:Je,unlock:j}=ue("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/editor"),{store:pe}=window.wp.editor,{useSelect:me}=window.wp.data,{privateApis:ge}=window.wp.blockEditor,{store:be}=window.wp.editPost,{useMemo:fe}=window.wp.element,{getLayoutStyles:he}=j(ge);function ke(){const{hasThemeStyleSupport:e,editorSettings:o}=me(n=>({hasThemeStyleSupport:n(be).isFeatureActive("themeStyles"),editorSettings:n(pe).getEditorSettings()}),[]);return fe(()=>{const n=[...o?.defaultEditorStyles??[]];return!o.disableLayoutStyles&&!e&&n.push({css:he({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})}),e?o.styles??[]:n},[o.defaultEditorStyles,o.disableLayoutStyles,o.styles,e])}const{jsx:r,jsxs:_}=window.ReactJSXRuntime,{useEffect:P,useRef:p,useState:Se,useMemo:Ee}=window.wp.element,{BlockList:ye,privateApis:ve}=window.wp.blockEditor,{Popover:Re}=window.wp.components,{getBlockTypes:_e,unregisterBlockType:Pe}=window.wp.blocks,{registerCoreBlocks:Ce}=window.wp.blockLibrary,{store:C,mediaUpload:xe,EditorProvider:Te,EditorSnackbars:Be,PostTitle:Le}=window.wp.editor,{useDispatch:x,useSelect:T,subscribe:$e}=window.wp.data,{store:m}=window.wp.coreData;let l={};const{ExperimentalBlockCanvas:je}=j(ve);function Ne({post:e}){const[o,n]=Se(!1),a=p(),s=p(e.title),d=p(e.content),{addEntities:w,editEntityRecord:g,receiveEntityRecords:N}=x(m),{setEditedPost:A}=x(C),{getEditedPostAttribute:I,getEditedPostContent:b}=T(C);P(()=>(window.editor=l,w(we),N("postType",e.type,e),Ce(),ce(),A(e.type,e.id),()=>{window.editor={},_e().forEach(t=>{Pe(t.name)})}),[]);const{blockPatterns:f,currentPost:D,hasLoadedPost:U,hasUploadPermissions:h,reusableBlocks:k}=T(t=>{const{getEntityRecord:c,getEntityRecords:O,hasFinishedResolution:G}=t(m),J=c("root","user",e.author),X=c("postType",e.type,e.id),V=e?.id?G("getEntityRecord",["postType",e.type,e.id]):!0;return{blockPatterns:t(m).getBlockPatterns(),currentPost:X,hasLoadedPost:V,hasUploadPermissions:J?.capabilities?.upload_files??!0,reusableBlocks:O("postType","wp_block")}},[]);P(()=>$e(()=>{const{title:t,content:c}=l.getTitleAndContent();(t!==s.current||c!==d.current)&&(de(),s.current=t,d.current=c)}),[]);function S(t){g("postType",e.type,e.id,t)}l.setContent=t=>{S({content:decodeURIComponent(t)})},l.setTitle=t=>{S({title:decodeURIComponent(t)})},l.getContent=(t=!1)=>(t&&R(),b()),l.getTitleAndContent=(t=!1)=>(t&&R(),{title:I("title"),content:b()}),l.setCodeEditorEnabled=t=>n(t);const M=Ee(()=>({hasFixedToolbar:!0,mediaUpload:h?xe:void 0,__experimentalReusableBlocks:k,__experimentalBlockPatterns:f}),[f,h,k]),F=ke();return U&&r("div",{className:"editor__container",children:_(Te,{post:D,settings:M,useSubRegistry:!1,children:[_(je,{shouldIframe:!1,height:"auto",styles:F,children:[r("div",{className:"editor-visual-editor__post-title-wrapper",children:r(Le,{ref:a})}),r(ye,{})]}),r(ae,{}),r(Re.Slot,{}),r(Be,{})]})})}const{jsx:B}=window.ReactJSXRuntime,{Notice:Ae}=window.wp.components,{__:Ie}=window.wp.i18n,{useState:De,useEffect:L}=window.wp.element;function Ue(){const{notice:e,clearNotice:o}=Me(),n=[{label:"Retry",onClick:()=>window.location.href="remote.html",variant:"primary"},{label:"Dismiss",onClick:o,variant:"secondary"}];return e?B("div",{className:"editor-load-notice",children:B(Ae,{actions:n,status:"warning",isDismissible:!1,children:e})}):null}function Me(){const[e,o]=De(null);return L(()=>{const a=new URL(window.location.href).searchParams.get("error");let s=null;switch(a){case Fe:s=Ie("Oops! We couldn't load your site's editor and plugins. Don't worry, you can use the default editor for now.");break;default:s=null}o(s)},[]),L(()=>{if(e){const n=setTimeout(()=>{o(null)},2e4);return()=>clearTimeout(n)}},[e]),{notice:e,clearNotice:()=>o(null)}}const Fe="remote_editor_load_error",{Fragment:Oe,jsx:$,jsxs:Ge}=window.ReactJSXRuntime;function Xe(e){return Ge(Oe,{children:[$(Ue,{}),$(Ne,{...e})]})}export{Xe as default};
